<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#667eea">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <title>Parent-Student Conflict Analyzer - Career Guidance AI</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Poppins', system-ui, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 35px 30px;
            text-align: center;
            color: white;
        }
        .header h1 { font-size: 28px; font-weight: 800; margin-bottom: 8px; }
        .header p { font-size: 15px; opacity: 0.9; }
        
        .content { padding: 30px; }
        
        .intro-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 18px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
        }
        .intro-box h2 {
            color: #333;
            font-size: 22px;
            margin-bottom: 10px;
        }
        .intro-box p {
            color: #555;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .form-section {
            background: white;
            border-radius: 18px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        .input-group label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .input-group label .icon {
            margin-right: 8px;
        }
        
        .input-group input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            font-size: 15px;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .student-input { border-left: 4px solid #667eea; }
        .parent-input { border-left: 4px solid #f093fb; }
        
        .btn-analyze {
            width: 100%;
            padding: 18px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Poppins', sans-serif;
        }
        
        .btn-analyze:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        
        /* Results Section */
        .results-section {
            background: white;
            border-radius: 18px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .result-header h2 {
            color: #333;
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .agreement-meter {
            position: relative;
            width: 100%;
            height: 40px;
            background: linear-gradient(90deg, #ff6b6b, #ffd93d, #6bcb77);
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .agreement-indicator {
            position: absolute;
            top: 0;
            height: 100%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.5s;
        }
        
        .agreement-label {
            text-align: center;
            font-size: 20px;
            font-weight: 700;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .choices-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .choice-box {
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        
        .student-box {
            background: linear-gradient(135deg, #667eea20, #764ba220);
            border: 2px solid #667eea;
        }
        
        .parent-box {
            background: linear-gradient(135deg, #f093fb20, #f5576c20);
            border: 2px solid #f093fb;
        }
        
        .choice-box h4 {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
            text-transform: uppercase;
        }
        
        .choice-box .choice-text {
            font-size: 18px;
            font-weight: 700;
            color: #333;
        }
        
        .compromise-section {
            background: linear-gradient(135deg, #11998e20, #38ef7d20);
            border: 2px solid #11998e;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }
        
        .compromise-section h3 {
            color: #11998e;
            font-size: 22px;
            margin-bottom: 15px;
        }
        
        .compromise-section p {
            color: #555;
            font-size: 15px;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .compromise-careers {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }
        
        .compromise-career-tag {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .back-link {
            display: inline-block;
            margin: 20px 0;
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        .tips-section {
            background: #fff9e6;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .tips-section h4 {
            color: #f39c12;
            margin-bottom: 10px;
        }
        
        .tips-section ul {
            list-style: none;
            padding: 0;
        }
        
        .tips-section li {
            padding: 8px 0;
            color: #555;
            font-size: 14px;
        }
        
        .tips-section li:before {
            content: "üí° ";
        }
        
        @media (max-width: 600px) {
            .choices-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚öñÔ∏è Parent-Student Conflict Analyzer</h1>
            <p>Find the perfect compromise between student and parent career choices</p>
        </div>
        
        <div class="content">
            <a href="/dashboard" class="back-link">‚Üê Back to Dashboard</a>
            
            <div class="intro-box">
                <h2>üéØ How It Works</h2>
                <p>Enter the career choice of the student and the career choice of the parent. Our system will analyze both choices, calculate the agreement level, and suggest the best compromise career that satisfies both parties.</p>
            </div>
            
            <div class="form-section">
                <form method="POST" action="/conflict-analyzer">
                    <div class="input-group">
                        <label><span class="icon">üéÆ</span>Student's Choice</label>
                        <input type="text" name="student_choice" class="student-input" 
                               placeholder="e.g., Game Developer, Software Engineer, Designer..." 
                               value="{{ request.form.get('student_choice', '') if request.method == 'POST' else '' }}">
                    </div>
                    
                    <div class="input-group">
                        <label><span class="icon">üë®‚Äçüíº</span>Parent's Choice</label>
                        <input type="text" name="parent_choice" class="parent-input" 
                               placeholder="e.g., Government Job, Doctor, Engineer, Banking..." 
                               value="{{ request.form.get('parent_choice', '') if request.method == 'POST' else '' }}">
                    </div>
                    
                    <button type="submit" class="btn-analyze">üîç Analyze Conflict</button>
                </form>
            </div>
            
            {% if result %}
            <div class="results-section">
                <div class="result-header">
                    <h2>üìä Analysis Results</h2>
                </div>
                
                <!-- Agreement Meter -->
                <div class="agreement-meter">
                    <div class="agreement-indicator" style="width: {{ result.agreement_level }}%;"></div>
                </div>
                
                <div class="agreement-label" style="background: {{ result.agreement_color }}40; color: #333;">
                    {{ result.agreement_text }} ({{ result.agreement_level }}% Agreement)
                </div>
                
                <!-- Choices Comparison -->
                <div class="choices-comparison">
                    <div class="choice-box student-box">
                        <h4>üéÆ Student Choice</h4>
                        <div class="choice-text">{{ result.student_choice }}</div>
                        <small style="color: #666;">Category: {{ result.student_category }}</small>
                    </div>
                    
                    <div class="choice-box parent-box">
                        <h4>üë®‚Äçüíº Parent Choice</h4>
                        <div class="choice-text">{{ result.parent_choice }}</div>
                        <small style="color: #666;">Category: {{ result.parent_category }}</small>
                    </div>
                </div>
                
                <!-- Compromise Suggestion -->
                <div class="compromise-section">
                    <h3>üëâ Suggested Compromise</h3>
                    <p><strong>{{ result.compromise.suggestion }}</strong></p>
                    <p>{{ result.compromise.description }}</p>
                    <p><em>{{ result.compromise.explanation }}</em></p>
                    
                    {% if result.compromise.careers %}
                    <div class="compromise-careers">
                        {% for career in result.compromise.careers %}
                        <span class="compromise-career-tag">{{ career }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                
                <!-- Tips Section -->
                <div class="tips-section">
                    <h4>üí° Tips for Discussion</h4>
                    <ul>
                        <li>Both careers have merit - discuss the pros and cons openly</li>
                        <li>Consider the job market and future scope of each option</li>
                        <li>Look for careers that combine elements of both interests</li>
                        <li>Remember: The final decision should respect the student's passion and capabilities</li>
                        <li>Seek guidance from career counselors if needed</li>
                    </ul>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</body>
</html>
